"use strict";(()=>{var a=(r,e=document)=>{let t=e.querySelectorAll(r);return t.length?[...t]:[]};var o=(r,e=document)=>e.querySelector(r)??void 0;var{PRICING_CONFIG:s}=window,u=class{constructor(e){this.component=e,this.logisticSupportInput=o('input[name="logisticSupport"]',e),this.locationInput=o('select[name="location"]',e),this.timeframeInputs=a('input[name="billed"]',e),this.activeTimeframe=this.getActiveTimeframe(),this.warehouseInput=o('select[name="warehouse"]',e),this.warehouseOptions=this.getOptions(this.warehouseInput),this.warehouseDefaultValue=this.warehouseInput.dataset.default,this.warehouseValueUpdated=!1,this.officeInput=o('select[name="office"]',e),this.officeOptions=this.getOptions(this.officeInput),this.officeDefaultValue=this.officeInput.dataset.default,this.officeValueUpdated=!1,this.inputs=[this.logisticSupportInput,this.locationInput,...this.timeframeInputs,this.warehouseInput,this.officeInput],this.outputs=a('[data-pricing="output"][data-output]',e),this.values=this.getValues(),this.locationConfig=this.getLocationConfig(),this.pricing=o('[data-pricing="pricing"]',e),this.prompt=o('[data-pricing="prompt"]',e),this.promptText=o('[data-pricing="prompt-text"]',this.prompt),this.pills={logisticSupport:o('[data-output="logisticSupport"]',e),warehouse:o('[data-output="warehouse"]',e),office:o('[data-output="office"]',e)},this.update=this.update.bind(this),this.init()}getOptions(e){return a("option",e).map(i=>({element:i,value:i.value,text:i.textContent}))}init(){this.render(),this.bindEvents()}render(){this.outputs.forEach(e=>{let t=e.dataset.output,i;switch(t){case"timeframe":i=this.values.timeframe==="6-months"?s.TIMEFRAME.BI_ANNUALLY:this.values.timeframe==="yearly"?s.TIMEFRAME.ANNUALLY:s.TIMEFRAME.MONTHLY;break;case"access-price":i=this.values.logisticSupport?s.LOGISTIC_SUPPORT.INCLUDED:s.LOGISTIC_SUPPORT.EXCLUDED;break;case"workspace-price":let n=this.getCombinationConfig();if(!n)return;let l=this.values.timeframe==="monthly"?s.DISCOUNT.MONTHLY:this.values.timeframe==="6-months"?s.DISCOUNT.BI_ANNUALLY:s.DISCOUNT.ANNUALLY;i=this.formatCurrency(n.total*(1-l));break;case"logisticSupport":this.values.logisticSupport?this.pills.logisticSupport.classList.add("is-selected"):this.pills.logisticSupport.classList.remove("is-selected");break;case"warehouse":this.warehouseInput.selectedIndex>1?this.pills.warehouse.classList.add("is-selected"):this.pills.warehouse.classList.remove("is-selected");break;case"office":this.officeInput.selectedIndex>1?this.pills.office.classList.add("is-selected"):this.pills.office.classList.remove("is-selected");break}i&&this.setText(e,i.toString())})}formatCurrency(e){return Math.ceil(e).toLocaleString("en-US")}bindEvents(){this.inputs.forEach(t=>{t.addEventListener("change",this.update)}),this.locationChange(),this.setPricePrompt();let e=0;this.locationInput.addEventListener("change",()=>{e===0&&(this.setDefaultWarehouse(),this.setDefaultOffice(),e+=1),this.locationChange(),this.warehouseChange(),this.setPricePrompt()}),this.warehouseInput.addEventListener("change",()=>{this.warehouseChange(),this.setPricePrompt()}),this.officeInput.addEventListener("change",()=>{this.officeChange(),this.setPricePrompt()})}setPricePrompt(){if(this.locationInput.selectedIndex===0){this.promptText.textContent=s.PROMPT.LOCATION,this.pricing.style.display="none",this.prompt.style.display="block",this.warehouseOptions[0].element.textContent=s.OPTIONS.LOCATION,this.officeOptions[0].element.textContent=s.OPTIONS.LOCATION;return}this.warehouseInput.selectedIndex===0&&(this.promptText.textContent=s.PROMPT.OPTIONS,this.pricing.style.display="none",this.prompt.style.display="block",this.warehouseOptions[0].element.textContent=s.OPTIONS.READY,this.officeOptions[0].element.textContent=s.OPTIONS.WAREHOUSE),this.warehouseInput.selectedIndex!==0&&this.officeInput.selectedIndex===0&&(this.promptText.textContent=s.PROMPT.OPTIONS,this.pricing.style.display="none",this.prompt.style.display="block",this.warehouseOptions[0].element.textContent=s.OPTIONS.READY,this.officeOptions[0].element.textContent=s.OPTIONS.READY),this.warehouseInput.selectedIndex!==0&&this.officeInput.selectedIndex!==0&&(this.prompt.style.display="none",this.pricing.style.display="block")}locationChange(){if(this.disableAllOptions(this.warehouseInput),this.disableAllOptions(this.officeInput),!this.locationConfig)return;let{combinations:e}=this.locationConfig;e.forEach(t=>{let i=this.warehouseOptions.find(l=>l.value===t.warehouse);i&&(i.element.disabled=!1);let n=this.officeOptions.find(l=>l.value===t.office);n&&(n.element.disabled=!1)}),this.warehouseOptions.forEach(t=>{t.element.disabled&&t.element.selected&&(this.warehouseInput.selectedIndex=0)})}warehouseChange(){if(this.warehouseInput.selectedIndex===0&&this.locationChange(),this.disableAllOptions(this.officeInput),!this.locationConfig)return;let{combinations:e}=this.locationConfig;e.forEach(t=>{if(t.warehouse!==this.values.warehouseSuite)return;let i=this.officeOptions.find(n=>n.value===t.office);i&&(i.element.disabled=!1)}),this.officeOptions.forEach(t=>{t.element.disabled&&t.element.selected&&(this.officeInput.selectedIndex=0)})}officeChange(){if(this.disableAllOptions(this.warehouseInput),!this.locationConfig)return;let{combinations:e}=this.locationConfig;e.forEach(t=>{if(t.office!==this.values.officeSuite)return;let i=this.warehouseOptions.find(n=>n.value===t.warehouse);i&&(i.element.disabled=!1)}),this.warehouseOptions.forEach(t=>{t.element.disabled&&t.element.selected&&(this.warehouseInput.selectedIndex=0)})}setDefaultWarehouse(){this.warehouseValueUpdated||(this.warehouseOptions.forEach((e,t)=>{e.value===this.warehouseDefaultValue&&(this.warehouseInput.selectedIndex=t,this.warehouseValueUpdated=!0)}),this.warehouseInput.dispatchEvent(new Event("change")))}setDefaultOffice(){this.officeValueUpdated||(this.officeOptions.forEach((e,t)=>{e.value===this.officeDefaultValue&&(this.officeInput.selectedIndex=t,this.officeValueUpdated=!0)}),this.officeInput.dispatchEvent(new Event("change")))}disableAllOptions(e){a("option",e).forEach((i,n)=>{n!==0&&(i.disabled=!0)})}update(){this.activeTimeframe=this.getActiveTimeframe(),this.values=this.getValues(),this.locationConfig=this.getLocationConfig(),this.render()}getActiveTimeframe(){return this.timeframeInputs.find(e=>e.checked)??this.timeframeInputs[0]}getValues(){let e={location:this.locationInput.value,logisticSupport:this.logisticSupportInput.checked,timeframe:this.activeTimeframe.value,warehouseSuite:this.warehouseInput.value,officeSuite:this.officeInput.value};return this.values=e,e}getLocationConfig(){let e=s.LOCATIONS.find(t=>t.id===this.values.location);if(!e){console.error(`No location configuration found for ${this.values.location}`);return}return e}getCombinationConfig(){let{locationConfig:e}=this;if(!e){console.error(`No location configuration found for ${this.values.location}`);return}console.log(this.values.warehouseSuite,this.values.officeSuite);let t=e.combinations.find(i=>i.warehouse===this.values.warehouseSuite&&i.office===this.values.officeSuite);if(!t){console.error(`No combination configuration found for ${this.values.warehouseSuite} and ${this.values.officeSuite}`);return}return t}setText(e,t){e.textContent=t}};var p=()=>{console.log("pricing"),a('[data-pricing="component"]').forEach(t=>{new u(t)})};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{p()});})();
